<!DOCTYPE html>
<html>
<head><title>Search</title><link rel="stylesheet" href="style.css"></head>
<body>

<nav class="container">
  <div class="logo">INOCHI</div>
  <ul>
    <li><a href="index.html">Home</a></li>
    <li><a href="movies.html">Movies</a></li>
    <li><a href="series.html">Series</a></li>
    <li><a class="active" href="search.html">Search</a></li>
  </ul>
</nav>

<div class="container section">
  <input id="query" class="search-box" placeholder="Search movies, series...">
  <div id="results" class="grid" style="margin-top:24px"></div>
</div>

<script src="tmdb.js"></script>
<script>
query.addEventListener("keyup", async e=>{
  const q = e.target.value;
  if(q.length<2) return;
  const res = await get(`/search/multi&query=${q}`);
  results.innerHTML="";
  res.results.forEach(r=>{
    if(!r.poster_path) return;
    results.innerHTML+=`
      <div class="card">
        <img src="${IMG+r.poster_path}">
        <div class="card-title">${r.title||r.name}</div>
      </div>`;
  });
});
</script>
</body></html>
